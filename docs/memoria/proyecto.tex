\documentclass[a4paper,11pt,openany]{book}
\setlength{\parskip}{0.5em plus 0.2em minus 0.1em}
% \usepackage[a4paper, top=2.7cm, bottom=4.7cm, inner=4.6cm, outer=3.1cm]{geometry}
\usepackage[a4paper, top=2.3cm, bottom=3cm, inner=3.7cm, outer=2.6cm]{geometry}
%\documentclass[a4paper,twoside,11pt,titlepage]{book}
\usepackage{listings}
\usepackage{enumitem}
\usepackage[utf8x]{inputenc}
\usepackage[spanish]{babel}

%\usepackage[style=list, number=none]{glossary} %
%\usepackage{titlesec}
%\usepackage{pailatino}

\decimalpoint
\usepackage{dcolumn}
\newcolumntype{.}{D{.}{\esperiod}{-1}}
\makeatletter
\addto\shorthandsspanish{\let\esperiod\es@period@code}
\makeatother


%\usepackage[chapter]{algorithm}
\RequirePackage{verbatim}
%\RequirePackage[Glenn]{fncychap}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{afterpage}
\usepackage{longtable}



% 
\usepackage[style=ieee, citestyle=numeric-comp, backend=biber, backref=true, maxnames=99]{biblatex}
\DefineBibliographyStrings{spanish}{
   backrefpage = {Citado en pág.},
   backrefpages = {Citado en págs.},
   url = {URL},
}

%
\usepackage{xpatch}
\DeclareFieldFormat{backrefparens}{\addperiod\hspace*{1pt} [#1]}
\xpatchbibmacro{pageref}{parens}{backrefparens}{}{}

%
% \appto{\bibsetup}{\raggedright}
\appto{\bibsetup}{\sloppy}
\addbibresource{bibliografia.bib}

% Para definir colores
\usepackage{xcolor} 

%
\usepackage[colorlinks=true, linkcolor=blue, citecolor=blue, pdfborder={0 0 0}]{hyperref}

% Para permitir romper URLs largas
\usepackage{xurl}

% Para 
\usepackage{tikz}

% Para incluir fuentes tipográficas para ecuaciones
\usepackage{amsfonts}

% Para permitir introducir subfiguras dentro de figura
\usepackage{subcaption}

%
\usepackage[colorinlistoftodos]{todonotes}

%
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[normalem]{ulem}
\useunder{\uline}{\ul}{}
\addto\captionsspanish{
  \renewcommand{\tablename}{Tabla}
  \renewcommand{\listtablename}{Índice de tablas}
}

\usepackage{amsmath}

\usepackage{float}

\usepackage{eurosym}

\usepackage{pgfgantt}

\usepackage{pdflscape}

\usepackage{wrapfig}

% ********************************************************************
% Re-usable information
% ********************************************************************
\newcommand{\myTitle}{Cuantificación de la incertidumbre de las predicciones de modelos de aprendizaje automático en problemas de estimación del perfil biológico\xspace}
\newcommand{\myDegree}{Grado en Ingeniería Informática\xspace}
\newcommand{\myName}{David González Durán\xspace}
\newcommand{\myProf}{Pablo Mesejo Santiago\xspace}
\newcommand{\myOtherProf}{Javier Venema Rodríguez\xspace}
\newcommand{\myFaculty}{Escuela Técnica Superior de Ingenierías Informática y de Telecomunicación\xspace}
\newcommand{\myFacultyShort}{E.T.S. de Ingenierías Informática y de Telecomunicación\xspace}
\newcommand{\myDepartment}{Departamento de Ciencias de la Computación e Inteligencia Artificial\xspace}
\newcommand{\myUni}{\protect{Universidad de Granada}\xspace}
\newcommand{\myLocation}{Granada\xspace}
\newcommand{\myTime}{\today\xspace}
\newcommand{\myVersion}{Version 0.1\xspace}


\hypersetup{
   pdfauthor   = {\myName (davgondur2910@correo.ugr.es)},
   pdftitle    = {\myTitle},
   pdfsubject  = {},
   pdfkeywords = {palabra_clave1, palabra_clave2, palabra_clave3, ...},
   pdfcreator  = {LaTeX con el paquete ....},
   pdfproducer = {pdflatex}
}

%\hyphenation{}


%\usepackage{doxygen/doxygen}
%\usepackage{pdfpages}
\usepackage{url}
\usepackage{colortbl,longtable}
\usepackage[stable]{footmisc}
\usepackage{index}

\usepackage{rotating}

\usepackage{placeins}

\usepackage{caption}


\makeindex
% \usepackage[style=long, cols=2,border=plain,toc=true,number=none]{glossary}
\usepackage[acronym]{glossaries}
\makeglossaries

\usepackage{mdframed}

\definecolor{LightGrayBox}{HTML}{EAEAEA}
% Definición del estilo que ya tienes
\mdfdefinestyle{StatisticsStyle}{%
   skipabove=0.5cm,
   skipbelow=0.5cm,
   % topline=false,
   roundcorner=10pt,
   frametitlefont={\color{black}\normalfont\bfseries},
   frametitlerule=true,
   frametitlealignment =\raggedright\noindent,
   frametitlebackgroundcolor=LightGrayBox,
   backgroundcolor=LightGrayBox,
   linecolor=LightGrayBox,
   fontcolor=black, 
}
\newmdenv[style=StatisticsStyle]{Statistics} 


% --- Contador para Statistics ---
\newcounter{statistics}[chapter]
\renewcommand{\thestatistics}{\thechapter.\arabic{statistics}}

% --- Nuevo entorno que añade numeración y referencia ---
\newenvironment{StatisticsRef}[2][]{%
    \refstepcounter{statistics} % permite \label
    \begin{Statistics}[frametitle={Análisis estadístico \thestatistics: #2}]%
    \ifx&#1&\else\label{#1}\fi
}{%
    \end{Statistics}%
}





% Definición de comandos que me son útiles:
%\renewcommand{\indexname}{Índice alfabético}
%\renewcommand{\glossaryname}{Glosario}



\pagestyle{fancy}
\fancyhf{}
\fancyhead[LO]{\leftmark}
\fancyhead[RE]{\rightmark}
\fancyhead[RO,LE]{\textbf{\thepage}}
\renewcommand{\chaptermark}[1]{\markboth{\textbf{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\textbf{\thesection. #1}}}

\setlength{\headheight}{1.5\headheight}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
%Definimos los tipos teorema, ejemplo y definición podremos usar estos tipos
%simplemente poniendo \begin{teorema} \end{teorema} ...
\newtheorem{teorema}{Teorema}[chapter]
\newtheorem{ejemplo}{Ejemplo}[chapter]
\newtheorem{definicion}{Definición}[chapter]

\definecolor{gray97}{gray}{.97}
\definecolor{gray75}{gray}{.75}
\definecolor{gray45}{gray}{.45}
\definecolor{gray30}{gray}{.94}

\lstset{ frame=Ltb,
     framerule=0.5pt,
     aboveskip=0.5cm,
     framextopmargin=3pt,
     framexbottommargin=3pt,
     framexleftmargin=0.1cm,
     framesep=0pt,
     rulesep=.4pt,
     backgroundcolor=\color{gray97},
     rulesepcolor=\color{black},
     %
     stringstyle=\ttfamily,
     showstringspaces = false,
     basicstyle=\scriptsize\ttfamily,
     commentstyle=\color{gray45},
     keywordstyle=\bfseries,
     %
     numbers=left,
     numbersep=6pt,
     numberstyle=\tiny,
     numberfirstline = false,
     breaklines=true,
   }
% minimizar fragmentado de listados
\lstnewenvironment{listing}[1][]
   {\lstset{#1}\pagebreak[0]}{\pagebreak[0]}

\lstdefinestyle{CodigoC}
   {
	basicstyle=\scriptsize,
	frame=single,
	language=C,
	numbers=left
   }
\lstdefinestyle{CodigoC++}
   {
	basicstyle=\small,
	frame=single,
	backgroundcolor=\color{gray30},
	language=C++,
	numbers=left
   }

 
\lstdefinestyle{Consola}
   {basicstyle=\scriptsize\bf\ttfamily,
    backgroundcolor=\color{gray30},
    frame=single,
    numbers=none
   }


\newcommand{\bigrule}{\titlerule[0.5mm]}


%Para conseguir que en las páginas en blanco no ponga cabecerass
\makeatletter
\def\clearpage{%
  \ifvmode
    \ifnum \@dbltopnum =\m@ne
      \ifdim \pagetotal <\topskip
        \hbox{}
      \fi
    \fi
  \fi
  \newpage
  \thispagestyle{empty}
  \write\m@ne{}
  \vbox{}
  \penalty -\@Mi
}
\makeatother



\input{prefacios/abreviaciones.tex}

\usepackage{pdfpages}
\begin{document}

   \frontmatter
   \input{portada/portada}
   \input{prefacios/prefacio}
   \tableofcontents
   \listoffigures
   \listoftables
   \printglossary[type=\acronymtype, title=Lista de Abreviaturas]
   
   \mainmatter
   \input{capitulos/cap_01/01_Introduccion}
   \input{capitulos/cap_02/02_Fundamentos_teoricos}
   \input{capitulos/cap_03/03_Estado_del_arte}
   \input{capitulos/cap_04/04_Materiales_y_métodos}
   \input{capitulos/cap_05/05_Experimentación}
   \input{capitulos/cap_06/06_Conclusiones}
   
   \nocite{*}
   \printbibliography
   
   \appendix
   % \input{apendices/A_Problema4_SC.tex}
   %\input{apendices/B_Comparación_AE_AC.tex}
   \input{apendices/C_Intervalos_razonables.tex}

   \chapter*{}
   \thispagestyle{empty}

\end{document}
